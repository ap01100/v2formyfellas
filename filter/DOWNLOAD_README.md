# Скачивание конфигураций прокси

Скрипт `download_configs.py` предназначен для скачивания и обработки конфигураций прокси из различных источников. Он поддерживает:

- Скачивание с URL
- Чтение из локальных файлов
- Обработку списка источников
- Декодирование Base64-строк
- Удаление дубликатов

## Использование

### Базовый синтаксис

```
python download_configs.py [опции]
```

### Опции

- `-u, --url URL` - URL для скачивания конфигураций
- `-f, --file FILE` - Локальный файл с конфигурациями
- `-s, --sources FILE` - Файл со списком источников (URL или файловые пути)
- `-o, --output FILE` - Выходной файл для сохранения конфигураций (обязательный параметр)
- `-a, --append` - Добавить к существующему файлу вместо перезаписи
- `-v, --verbose` - Подробный вывод

### Примеры

#### Скачивание с URL

```
python download_configs.py -u https://example.com/configs.txt -o configs.txt
```

#### Чтение из локального файла

```
python download_configs.py -f local_configs.txt -o configs.txt
```

#### Использование файла с источниками

```
python download_configs.py -s sources.txt -o configs.txt
```

#### Добавление к существующему файлу

```
python download_configs.py -u https://example.com/configs.txt -o configs.txt -a
```

## Формат файла sources.txt

Файл с источниками должен содержать список URL или путей к локальным файлам, по одному на строку. Строки, начинающиеся с `#`, считаются комментариями и игнорируются.

Пример:

```
# Это комментарий
https://example.com/configs1.txt
https://example.com/configs2.txt
local_file.txt
```

## Поддерживаемые форматы

Скрипт поддерживает следующие форматы:

1. Прямые URL конфигураций (начинающиеся с `ss://`, `vmess://`, `trojan://`, `vless://`)
2. Base64-закодированные строки
3. Текстовые файлы с конфигурациями (по одной на строку)
4. Подписки в формате Base64

## Автоматизация

Для автоматизации процесса скачивания и тестирования конфигураций используйте скрипты:

- Windows: `run_all.bat`
- Linux/macOS: `run_all.sh`

Эти скрипты выполняют следующие шаги:
1. Скачивают конфигурации из источников, указанных в `filter/sources.txt`
2. Проводят базовое URL-тестирование
3. Проводят расширенное тестирование на конфигурациях, прошедших базовое тестирование
4. Сохраняют результаты в директории `results` 